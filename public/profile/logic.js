// Generated by LiveScript 1.5.0
(function(){
  var out$ = typeof exports != 'undefined' && exports || this;
  angular.module('app', ['flyber', 'ngStorage', 'pascalprecht.translate', 'members']).config(function($translateProvider){
    $translateProvider.translations('en', {
      "ICO snovio dashboard": "ICO snovio dashboard",
      "Thank you for registration. Please": "Thank you for registration. Please",
      "confirm your email": "confirm your email",
      "Copyright © Snov.io 2017": "Copyright © Snov.io 2017",
      "Buy now": "Buy now",
      "Tokens you hold": "Tokens you hold",
      "You contributed": "You contributed",
      "First week": "First week",
      "First day": "First day",
      "Bonuses:": "Bonuses:",
      "Snov token price:": "Snov token price:",
      "Token crowdsale pool:": "Token crowdsale pool:",
      "Snov assigned": "Snov assigned",
      "Address Source": "Address Source",
      "Transaction ID": "Transaction ID",
      "Date": "Date",
      "Your transaction history": "Your transaction history",
      "Save changes": "Save changes",
      "Confirm password": "Confirm password",
      "New password": "New password",
      "Current password": "Current password",
      "Email": "Email",
      "Username": "Username",
      "User Profile": "User Profile",
      "See All Alerts": "See All Alerts",
      "Film festivals used to be do-or-die moments for movie makers. They were where...": "Film festivals used to be do-or-die moments for movie makers. They were where...",
      "3 mins ago": "3 mins ago",
      "John Smith": "John Smith",
      "Log Out": "Log Out",
      "Settings": "Settings",
      "Profile": "Profile",
      "Ru": "Ru",
      "En": "En"
    });
    $translateProvider.translations('ru', {
      "ICO snovio dashboard": "snovio ICO панель управления",
      "Thank you for registration. Please": "Спасибо, что зарегистрировались. Пожалуйста",
      "confirm your email": "подтвердите ваш адрес электронной почты",
      "Copyright © Snov.io 2017": "Copyright © Snov.io 2017",
      "Buy now": "Купить сейчас",
      "Tokens you hold": "Ваши токены",
      "You contributed": "Внесено",
      "First week": "Первая неделя",
      "First day": "Первый день",
      "Bonuses:": "Бонусы:",
      "Snov token price:": "Стоимость токена Snov:",
      "Token crowdsale pool:": "Пул предпродажи токенов:",
      "Snov assigned": "количество Snov",
      "Address Source": "Источник адреса",
      "Transaction ID": "Номер транзакции",
      "Date": "Дата",
      "Your transaction history": "История транзакций",
      "Save changes": "Сохранить изменения",
      "Confirm password": "Подтвердите пароль",
      "New password": "Новый пароль",
      "Current password": "Текущий пароль",
      "Email": "Эл. адрес",
      "Username": "Имя пользователя",
      "User Profile": "Профиль пользователя",
      "See All Alerts": "Просмотреть все предупреждения",
      "Film festivals used to be do-or-die moments for movie makers. They were where...": "Кинофестивали раньше были для кинорежиссеров, и они были там ...",
      "3 mins ago": "3 минуты назад",
      "John Smith": "Джон Смит",
      "Log Out": "Выход",
      "Settings": "Настройки",
      "Profile": "Профиль",
      "Ru": "Рус",
      "En": "Анг"
    });
    return $translateProvider.preferredLanguage('en');
  }).controller('profile', function($scope, $http, $localStorage){
    var form, save;
    out$.form = form = {
      username: "",
      email: "",
      newPassword: "",
      newPasswordRepeat: "",
      oldPassword: ""
    };
    out$.save = save = function(){
      var request;
      if (form.newPassword !== form.newPasswordRepeat) {
        return alert("Passwords do not match");
      }
      if (form.newPassword.length === 0) {
        return alert("New password cannot be empty");
      }
      if (form.oldPassword.length === 0) {
        return alert("Old password cannot be empty");
      }
      request = import$(import$({}, form), $localStorage);
      return $http.post('/api/updateProfile', request).then(function(resp){
        return alert("Your profile is changed");
      })['catch'](function(resp){
        return alert(resp.data);
      });
    };
    return importAll$($scope, out$);
  });
  function import$(obj, src){
    var own = {}.hasOwnProperty;
    for (var key in src) if (own.call(src, key)) obj[key] = src[key];
    return obj;
  }
  function importAll$(obj, src){
    for (var key in src) obj[key] = src[key];
    return obj;
  }
}).call(this);
