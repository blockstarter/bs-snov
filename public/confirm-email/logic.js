// Generated by LiveScript 1.5.0
(function(){
  var out$ = typeof exports != 'undefined' && exports || this;
  angular.module('app', ['flyber', 'ngStorage', 'pascalprecht.translate', 'members']).config(function($translateProvider){
    $translateProvider.translations('en', {
      "Copyright © Snov.io 2017": "Copyright © Snov.io 2017"
    });
    $translateProvider.translations('ru', {
      "Copyright © Snov.io 2017": "Copyright © Snov.io 2017"
    });
    return $translateProvider.preferredLanguage('en');
  }).controller('confirm', function($scope, $http, $localStorage){
    var getUrlParam, goToMembers, form, confirm;
    getUrlParam = function(name, url){
      var regex, results;
      if (!url) {
        url = window.location.href;
      }
      name = name.replace(/[\[\]]/g, '\\$&');
      regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)');
      results = regex.exec(url);
      if (!results) {
        return null;
      }
      if (!results[2]) {
        return '';
      }
      return decodeURIComponent(results[2].replace(/\+/g, ' '));
    };
    out$.goToMembers = goToMembers = function(){
      return location.href = '/members/index.html';
    };
    out$.form = form = {
      confirmationId: getUrlParam('confirmation-id'),
      confirmed: false
    };
    confirm = function(){
      return $http.post('/api/confirmEmail', (import$({
        confirmationId: form.confirmationId
      }, $localStorage))).then(function(){
        return form.confirmed = true;
      })['catch'](function(resp){
        return alert(resp.data);
      });
    };
    confirm();
    return importAll$($scope, out$);
  });
  function import$(obj, src){
    var own = {}.hasOwnProperty;
    for (var key in src) if (own.call(src, key)) obj[key] = src[key];
    return obj;
  }
  function importAll$(obj, src){
    for (var key in src) obj[key] = src[key];
    return obj;
  }
}).call(this);
