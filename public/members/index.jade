doctype html
html(lang='en' ng:app="members" ng:controller="members")
  head
    meta(http-equiv='Content-Type', content='text/html; charset=UTF-8')
    // Meta, title, CSS, favicons, etc.
    meta(charset='utf-8')
    meta(http-equiv='X-UA-Compatible', content='IE=edge')
    meta(name='viewport', content='width=device-width, initial-scale=1')
    title(ng:if="false") Loading...
    title(ng:if="true") {{ 'ICO snovio dashboard' | translate }} 
    // Bootstrap
    link(rel='stylesheet prefetch', href='https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css')
    // Font Awesome
    link(rel='stylesheet prefetch', href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.css')
    // NProgress
    link(rel='stylesheet prefetch', href='https://cdnjs.cloudflare.com/ajax/libs/nprogress/0.2.0/nprogress.css')
    // bootstrap-progressbar
    // countdown
    link(rel='stylesheet prefetch', href='https://cdnjs.cloudflare.com/ajax/libs/jquery-countdown/2.0.2/jquery.countdown.css')
    // Custom ICO Style
    style 
       include vendors/bootstrap-progressbar.css
       include vendors/countdown.css
       include ../style.css
  body.nav-md(ng:class="{visible: !model.loading}")
    .full-container.body
      .main_container
        // top navigation
        .top_nav
          include ./nav-menu
        // /top navigation
        // page content
        .container(role='main')
          div
            .row
              .col-md-9.col-sm-9.col-xs-12
                .x_panel.counter(ng:if="show.counter != false")
                  .x_title
                    h2 {{ 'Crowdsale starts in' | translate }}
                    ul.nav.navbar-right.panel_toolbox
                      li
                        a.collapse-link
                          i.fa.fa-chevron-up
                      li
                        a.close-link(ng:click="show.counter = false")
                          i.fa.fa-close
                    .clearfix
                  .x_content
                    .countdown.countdown-container.col-md-10.col-md-offset-1.col-xs-12(data-border-color='rgba(0, 0, 0, .8)')
                      .clock
                        .clock-item.clock-days.countdown-time-value.col-xs-3.col-sm-3.col-md-3
                          .wrap
                            .inner
                              #canvas-days.clock-canvas
                              .text
                                p.val {{model.timer.days}}
                                p.type-days.type-time {{ 'Days' | translate }}
                        .clock-item.clock-hours.countdown-time-value.col-xs-3.col-sm-3.col-md-3
                          .wrap
                            .inner
                              #canvas-hours.clock-canvas
                              .text
                                p.val {{model.timer.hours}}
                                p.type-hours.type-time {{ 'Hours' | translate }}
                        .clock-item.clock-minutes.countdown-time-value.col-xs-3.col-sm-3.col-md-3
                          .wrap
                            .inner
                              #canvas-minutes.clock-canvas
                              .text
                                p.val {{model.timer.minutes}}
                                p.type-minutes.type-time {{ 'Minutes' | translate }}
                        .clock-item.clock-seconds.countdown-time-value.col-xs-3.col-sm-3.col-md-3
                          .wrap
                            .inner
                              #canvas-seconds.clock-canvas
                              .text
                                p.val {{model.timer.seconds}}
                                p.type-seconds.type-time {{ 'Seconds' | translate }}
                    .clearfix
                .x_panel.saleprogress(ng:if="show.saleprogress != false")
                  .x_title
                    h2 {{ 'Tokensale progress' | translate }}
                    ul.nav.navbar-right.panel_toolbox
                      li
                        a.collapse-link
                          i.fa.fa-chevron-up
                      li
                        a.close-link(ng:click="show.saleprogress = false")
                          i.fa.fa-close
                    .clearfix
                  .x_content
                    .widget_summary
                      .w_left
                        strong 0
                      .w_center.w_100
                        .progress
                          .progress-bar.bg-purple(role='progressbar' aria-valuenow='{{model.progress.current.usd }}' aria-valuemin='0' aria-valuemax='{{model.progress.max }}' ng:style="{width: model.progress.current.percent}") {{model.progress.current.usd | currency}}
                        .text-right.softcap {{ 'Softcap' | translate }}
                      .w_right
                        strong  {{model.progress.max | currency }}
                .x_panel.status(ng:if="show.status != false")
                  .x_title
                    h2 {{ 'Tokensale status' | translate }}
                    ul.nav.navbar-right.panel_toolbox
                      li
                        a.collapse-link
                          i.fa.fa-chevron-up
                      li
                        a.close-link(ng:click="show.status = false")
                          i.fa.fa-close
                    .clearfix
                  .x_content
                    .tile_count
                      .col-md-4.col-sm-4.col-xs-12.text-center.tile_stats_count
                        .count
                          i.fa.fa-dollar.purple
                          | {{model.progress.current.usd | currency | remove_sign}} USD
                      .col-md-4.col-sm-4.col-xs-12.text-center.tile_stats_count
                        .count
                          i.fa.fa-diamond.purple
                          | {{model.progress.current.eth | currency | remove_sign}} ETH
                      .col-md-4.col-sm-4.col-xs-12.text-center.tile_stats_count
                        .count
                          i.fa.fa-user.purple
                          | {{model.progress.current.contributors}}
                    .clearfix
                    .currency.tile_count
                      .col-md-3.col-sm-3.col-xs-6.tile_stats_count(ng:repeat="row in model.rates")
                        span.count_top
                          img(ng:src='{{row.img}}' alt='{{row.token}}')
                        .count {{row.change}}
                        span.count_bottom {{row.token}}
                    //-.currency.tile_count
                      .col-md-3.col-sm-3.col-xs-6.tile_stats_count
                        span.count_top
                          img(src='https://tokensale.snov.io/members/images/co-dollar.svg', alt='USD')
                        .count 12,562,365
                        span.count_bottom USD
                      .col-md-3.col-sm-3.col-xs-6.tile_stats_count
                        span.count_top
                          img(src='https://tokensale.snov.io/members/images/btc.jpg', alt='BTC')
                        .count 56.356
                        span.count_bottom BTC
                      .col-md-3.col-sm-3.col-xs-6.tile_stats_count
                        span.count_top
                          img(src='https://tokensale.snov.io/members/images/ethereum.png', alt='', eth='')
                        .count 259,475,153
                        span.count_bottom ETH
                      .col-md-3.col-sm-3.col-xs-6.tile_stats_count
                        span.count_top
                          img(src='https://tokensale.snov.io/members/images/dash.png', alt='DASH')
                        .count 1,652,256,356
                        span.count_bottom DASH
                      .col-md-3.col-sm-3.col-xs-6.tile_stats_count
                        span.count_top
                          img(src='https://tokensale.snov.io/members/images/euro.png', alt='EUR')
                        .count 362,365
                        span.count_bottom EUR
                      .col-md-3.col-sm-3.col-xs-6.tile_stats_count
                        span.count_top
                          img(src='https://tokensale.snov.io/members/images/litecoin.png', alt='LTC')
                        .count 362,365.256
                        span.count_bottom LTC
                      .col-md-3.col-sm-3.col-xs-6.tile_stats_count
                        span.count_top
                          img(src='https://tokensale.snov.io/members/images/doge.png', alt='DOGE')
                        .count 9,475,153
                        span.count_bottom DOGE
                      .col-md-3.col-sm-3.col-xs-6.tile_stats_count
                        span.count_top
                          img(src='https://tokensale.snov.io/members/images/waves.svg', alt='WAVES')
                        .count 52,256,356
                        span.count_bottom WAVES
                #calculate.x_panel.calculate(ng:if="show.calculate != false")
                  .x_title
                    h2 {{ 'Calculate' | translate }}
                    ul.nav.navbar-right.panel_toolbox
                      li
                        a.collapse-link
                          i.fa.fa-chevron-up
                      li
                        a.close-link(ng:click="show.calculate = false")
                          i.fa.fa-close
                    .clearfix
                  .x_content
                    .calculator
                      .left
                        .form-group
                          h5 {{ 'Your buy' | translate }}
                          input#coin-amount.form-control(type='text' ng:model="model.youBuy" ng:change="changePrice()")
                          label {{ 'Snov tokens' | translate }}
                        a.direction(href='javascript:void(0)', data-direction='right')
                          i.fa.fa-arrow-right(aria-hidden='true')
                      .right
                        .form-group.is-empty
                          h5 {{ 'Your pay' | translate }}
                          input#coin-price.form-control(type='text' value='{{model.youPay}}' disabled='')
                          .btn-group
                            button.btn.btn-dark.dropdown-toggle(data-toggle='dropdown' type='button' aria-expanded='false')
                              a#calculator-currency-btn.btn-select.current-currency(data-code='{{model.currentRate.token}}') {{model.currentRate.fullname}}
                              span.caret
                            ul.dropdown-menu(role='menu')
                              li(ng:repeat="row in model.rates")
                                a.calculator-currency(data-code='{{row.token}}' ng:click="setCurrent(row)") {{row.fullname}}
                      .clearfix
                      .total
                        button.btn.btn-lg.btn-theme(ng:click="buy($event)" type='button' data-toggle="modal" data-target=".bs-buy-modal") {{ 'Buy now' | translate }}
                      .modal.fade.bs-buy-modal(tabindex='-1', role='dialog', aria-hidden='true')
                        .modal-dialog.modal-lg.text-left
                          .modal-content
                            .modal-header
                              button.close(type='button' data-dismiss='modal')
                                span(aria-hidden='true') ×
                              h4#myModalLabel.modal-title {{ 'Make a deposit' | translate }}
                            .modal-body
                              .col-md-4.col-sm-4.col-xs-12
                                .bs-wrap(qrcode="model.address")
                              .col-md-8.col-sm-8.col-xs-12
                                .bs-wrap
                                  h4
                                    strong {{model.address}}
                              .col-md-12.col-sm-12.col-xs-12
                                p.lead
                                  | {{ 'Please make sure your deposit equals or exceeds the minimum purchase amount (please check the minimum amount in WP)' | translate }}
                              .clearfix
                include ./history
              include sidebar
        // /page content
        // footer content
        footer
          .text-center {{ 'Copyright © Snov.io 2017' | translate }}
          .clearfix
        // /footer content
    // jQuery
    script(src='//cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.js')
    // Bootstrap
    script(src='//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/js/bootstrap.js')
    // FastClick
    //script(src='//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.js')
    // NProgress
    //script(src='//cdnjs.cloudflare.com/ajax/libs/nprogress/0.2.0/nprogress.js')
    // bootstrap-progressbar
    script(src='//cdnjs.cloudflare.com/ajax/libs/bootstrap-progressbar/0.9.0/bootstrap-progressbar.js')
    // iCheck
    //script(src='//cdnjs.cloudflare.com/ajax/libs/iCheck/1.0.2/icheck.js')
    // Chart.js
    //script(src='//cdnjs.cloudflare.com/ajax/libs/Chart.js/2.1.4/Chart.js')
    // JavaScript countdown
    script(src='//cdnjs.cloudflare.com/ajax/libs/kineticjs/5.1.9/kinetic.js')
    
    script(src='//cdn.rawgit.com/davidshimjs/qrcodejs/master/qrcode.min.js')
    
    script(src='//cdn.rawgit.com/EvanHahn/HumanizeDuration.js/master/humanize-duration.js')
    // script(src='https://cdnjs.cloudflare.com/ajax/libs/jquery.countdown/2.2.0/jquery.countdown.js')
    //script(src="vendors/final-countdown.js")
    // Angular
    include ../common.jade
    // Custom Theme Scripts
    //script(src='../common.js')
    script
      include ./logic.js
