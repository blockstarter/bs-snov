// Generated by LiveScript 1.5.0
(function(){
  var out$ = typeof exports != 'undefined' && exports || this;
  angular.module('app', ['flyber', 'ngStorage', 'pascalprecht.translate']).config(function($translateProvider){
    $translateProvider.translations('en', {
      "Login Form": "Login Form",
      "Lost your password?": "Lost your password?",
      "Check here to confirm that you are not a U.S. citizen, resident or entity (a “U.S. Person”) nor are you obtaining PGL Tokens or signing on behalf of a U.S. Person.": "Check here to confirm that you are not a U.S. citizen, resident or entity (a “U.S. Person”) nor are you obtaining PGL Tokens or signing on behalf of a U.S. Person.",
      "Check here to confirm that you have read, understand and agree to the": "Check here to confirm that you have read, understand and agree to the",
      "Terms of Use": "Terms of Use",
      "and": "and",
      "Privacy Policy": "Privacy Policy",
      "New to site?": "New to site?",
      "Create Account": "Create Account",
      "Submit": "Submit",
      "Already a member ?": "Already a member ?",
      "Log in": "Log in"
    });
    $translateProvider.translations('ru', {
      "Login Form": "Форма входа",
      "Lost your password?": "Забыли пароль?",
      "Check here to confirm that you are not a U.S. citizen, resident or entity (a “U.S. Person”) nor are you obtaining PGL Tokens or signing on behalf of a U.S. Person.": "Отметьте здесь, чтобы подтвердить, что вы не являетесь гражданином США, резидентом или юридическим лицом (« лицо США »), и вы не получаете токены PGL или не подписываете от имени человека США",
      "Check here to confirm that you have read, understand and agree to the": "Отметьте здесь, чтобы подтвердить, что вы прочитали, поняли и согласны с ",
      "Terms of Use": "Условиями использования",
      "and": "и",
      "Privacy Policy": "Политикой конфиденциальности",
      "New to site?": "Что нового на сайте?",
      "Create Account": "Регистрация",
      "Submit": "Выполнить",
      "Already a member ?": "Уже участник ?",
      "Log in": "Авторизоваться"
    });
    return $translateProvider.preferredLanguage('en');
  }).controller('login', function($scope, $http, $localStorage){
    var form, enter;
    out$.form = form = {
      email: null,
      username: "",
      password: null,
      reference: 'native',
      acceptLocation: false,
      acceptPrivacy: false
    };
    out$.enter = enter = function($event){
      $event.preventDefault();
      if (!form.acceptLocation) {
        return alert("Please accept location");
      }
      if (!form.acceptPrivacy) {
        return alert("Please accept privacy");
      }
      if (form.email == null) {
        return alert("Email is required");
      }
      if (form.password == null) {
        return alert("Password is required");
      }
      return $http.post('/api/auth', form).then(function(resp){
        var ref$;
        console.log(resp.data);
        $localStorage.sessionId = resp.data.sessionId;
        return ref$ = $event.target, location.href = ref$.href, ref$;
      })['catch'](function(resp){
        return alert(resp.data);
      });
    };
    return importAll$($scope, out$);
  });
  function importAll$(obj, src){
    for (var key in src) obj[key] = src[key];
    return obj;
  }
}).call(this);
